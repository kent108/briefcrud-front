<div class="container">
  <h2 class="mt-5 mb-4 text-center">Créer un nouveau produit</h2>
  <form
    [formGroup]="formProduct"
    (ngSubmit)="submit()"
    class="bg-light p-5 rounded shadow"
  >
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="name" class="form-label">Nom</label>
        <input
          type="text"
          class="form-control"
          id="name"
          formControlName="name"
          placeholder="Entrez le nom"
        />
      </div>
      <div class="col-md-6">
        <label for="price" class="form-label">Prix</label>
        <input
          type="number"
          class="form-control"
          id="price"
          formControlName="price"
          placeholder="Entrez le prix"
        />
      </div>
      <div class="col-md-6">
        <label for="quantity" class="form-label">Quantité</label>
        <input
          type="number"
          class="form-control"
          id="quantity"
          formControlName="quantity"
          placeholder="Entrez la quantité"
        />
      </div>
    </div>

    <div class="mb-4">
      <label class="form-label">Catégories</label>
      <div class="row gy-3">
        <div class="col-sm-6">
          <div *ngFor="let category of allCategory" class="form-check">
            <!-- form control name = au formcontrol du TS -->
            <input
            formControlName="category_id"
              class="form-check-input"
              type="radio"
              value="{{ category.id }}"
              id="{{ category.name }}"
            />
            <label class="form-check-label" for={{category.name}}>{{category.name}}</label>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center">
      <button type="submit" class="btn btn-primary btn-lg" [disabled]="formProduct.invalid">Soumettre</button>
    </div>
  </form>
</div>

<!-- modal de soumission -->

<div class="modal fade" id="submissionModal" tabindex="-1" aria-labelledby="submissionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="submissionModalLabel">Soumission réussie</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Votre produit a été ajouté.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="redirectToProduct()">Fermer</button>
        </div>
      </div>
    </div>
  </div>